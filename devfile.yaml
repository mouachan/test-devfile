metadata:
  name: demo-ai-edge-crazy-train
projects:
  - name: train-capture-image-app
    source:
      type: git
      location: "https://github.com/Demo-AI-Edge-Crazy-Train/train-capture-image-app.git"
  - name: train-ceq-app
    source:
      type: git
      location: "https://github.com/Demo-AI-Edge-Crazy-Train/train-ceq-app.git"
  - name: intellligent-train
    source:
      type: git
      location: "https://github.com/Demo-AI-Edge-Crazy-Train/intelligent-train.git"
  - name: train-controller
    source:
      type: git
      location: "https://github.com/Demo-AI-Edge-Crazy-Train/train-controller.git"
  - name: train-monitoring-app
    source:
      type: git
      location: "https://github.com/Demo-AI-Edge-Crazy-Train/train-monitoring-app.git"
  # Add more projects as needed
components:
  - type: chePlugin
    id: redhat/java/latest
  - type: cheEditor
    id: eclipse/che-theia/latest
  - type: dockerimage
    alias: quarkus
    image: quay.io/quarkus/centos-quarkus-maven:21.0.0.2-java11
    memoryLimit: 512Mi
    mountSources: true
    endpoints:
      - name: '8080/tcp'
        port: 8080
  - type: kafka
    alias: myKafka
    version: 2.7.0
    zookeeper:
      memoryLimit: 512Mi
    broker:
      memoryLimit: 512Mi
  - type: dockerimage
    alias: mosquitto
    image: eclipse-mosquitto:2.0.11
    memoryLimit: 256Mi
    endpoints:
      - name: '1883/tcp'
        port: 1883
  - type: dockerimage
    alias: kafdrop
    image: obsidiandynamics/kafdrop:latest
    memoryLimit: 512Mi
    endpoints:
      - name: '9000/tcp'
        port: 9000
    env:
      - name: KAFKA_BROKERCONNECT
        value: localhost:9092
